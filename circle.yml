dependencies:
  cache_directories:
    - "~/.sbt"
    - "target/resolution-cache"
    - "project/target/resolution-cache"
  post:
    - gem install jekyll

test:
  override:
    - sbt makeMicrosite

deployment:
  publish_site:
    branch: master
    owner: ovotech
    commands:
      - git config --global user.email "hello.comms@ovoenergy.com"
      - git config --global user.name "OVO Comms CircleCI"
      - git config --global push.default simple
      - sbt publishMicrosite
